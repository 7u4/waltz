<waltz-section icon='shield'
               name="Authoritative Sources">

    <waltz-static-panels render-mode='minimal-border'
                         group-key='SECTION.AUTH_SOURCES.ABOUT'>
    </waltz-static-panels>
    <br>

    <div ng-if="$ctrl.viewMode==='LIST'">
        <waltz-auth-sources-table auth-sources="$ctrl.authSources"
                                  on-select="$ctrl.onSelectAuthSource">
        </waltz-auth-sources-table>
    </div>

    <div ng-if="$ctrl.viewMode==='DETAIL'">
        <waltz-svelte-component component="$ctrl.authSummarySection"
                                primary-entity-ref="$ctrl.parentEntityRef"
                                do-delete="$ctrl.doDelete"
                                do-cancel="$ctrl.cancel">
        </waltz-svelte-component>
    </div>

    <div ng-if="$ctrl.viewMode==='EDIT'">
        <waltz-svelte-component component="$ctrl.createAuthSourceSection"
                                primary-entity-ref="$ctrl.parentEntityRef"
                                do-save="$ctrl.doSave"
                                do-update="$ctrl.doUpdate"
                                do-cancel="$ctrl.cancel">
        </waltz-svelte-component>
    </div>

    <button class="btn-link"
            ng-click="$ctrl.create()"
            ng-if="$ctrl.viewMode==='LIST'">
        <waltz-icon name="plus"></waltz-icon> Add new Authoritative Source
    </button>

</waltz-section>